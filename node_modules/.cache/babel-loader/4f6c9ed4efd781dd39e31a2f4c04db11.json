{"ast":null,"code":"import _slicedToArray from \"C:/Users/ESRAA/loginn/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ESRAA\\\\loginn\\\\src\\\\components\\\\NavBar.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router';\nimport '../style.css';\nimport { MDBNavbar, MDBNavbarBrand, MDBNavbarNav, MDBNavbarToggler, MDBCollapse, MDBNavItem, MDBFooter, MDBNavLink, MDBTooltip, MDBIcon, MDBBtn } from 'mdbreact';\nimport { AuthContext } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar NavBar = function NavBar() {\n  _s();\n\n  var _JSON$parse;\n\n  var token = (_JSON$parse = JSON.parse(localStorage.getItem('login'))) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.token;\n\n  var _useState = useState('test'),\n      _useState2 = _slicedToArray(_useState, 2),\n      collapseID = _useState2[0],\n      setCollapseID = _useState2[1];\n\n  var _useContext = useContext(AuthContext),\n      loggedInState = _useContext.loggedInState,\n      setLoggedInState = _useContext.setLoggedInState;\n\n  var history = useHistory();\n  useEffect(function () {\n    if (!loggedInState) {\n      console.log(history);\n      console.log('ssh');\n      history.push('/advanced');\n    }\n  }, [history]);\n\n  var toggleCollapse = function toggleCollapse(colId) {\n    console.log('run');\n\n    if (colId !== collapseID) {\n      console.log(true);\n      setCollapseID(colId);\n    } else {\n      setCollapseID('');\n      console.log(false);\n    }\n  };\n\n  var closeCollapse = function closeCollapse(collID) {\n    window.scrollTo(0, 0);\n    setCollapseID('');\n  };\n\n  var logoutHandler = function logoutHandler() {\n    axios.post('https://api-nodejs-todolist.herokuapp.com/user/logout', {}, {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      setLoggedInState(false);\n      localStorage.removeItem('login');\n      history.push('/advanced');\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var overlay = /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"sidenav-overlay\",\n    style: {\n      backgroundColor: 'transparent'\n    },\n    onClick: function onClick() {\n      return toggleCollapse('mainNavbarCollapse');\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, _this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MDBNavbar, {\n      dark: true,\n      expand: \"md\",\n      fixed: \"top\",\n      scrolling: true,\n      className: \"head mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(MDBNavbarBrand, {\n        href: \"/\",\n        className: \"py-0 font-weight-bold\",\n        children: /*#__PURE__*/_jsxDEV(MDBNavLink, {\n          to: \"/navigation\",\n          className: \"red-text\",\n          children: \"ToDo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(MDBNavbarToggler, {\n        onClick: function onClick() {\n          return toggleCollapse('mainNavbarCollapse');\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(MDBCollapse, {\n        id: \"mainNavbarCollapse\",\n        isOpen: collapseID,\n        navbar: true,\n        children: /*#__PURE__*/_jsxDEV(MDBNavbarNav, {\n          right: true,\n          children: loggedInState ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(MDBNavItem, {\n              children: /*#__PURE__*/_jsxDEV(MDBNavLink, {\n                exact: true,\n                to: \"/\",\n                onClick: function onClick() {\n                  return closeCollapse('mainNavbarCollapse');\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"signUp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(MDBNavItem, {\n              children: /*#__PURE__*/_jsxDEV(MDBNavLink, {\n                exact: true,\n                to: \"/advanced\",\n                onClick: function onClick() {\n                  return closeCollapse('mainNavbarCollapse');\n                },\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(MDBNavItem, {\n              children: /*#__PURE__*/_jsxDEV(MDBBtn, {\n                color: \"danger\",\n                onClick: logoutHandler,\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Logout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, _this), collapseID && overlay]\n  }, void 0, true);\n};\n\n_s(NavBar, \"P/tJqRfWC2cqVgEezYRGZ/lwzSo=\", false, function () {\n  return [useHistory];\n});\n\n_c = NavBar;\nexport default NavBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"NavBar\");","map":{"version":3,"sources":["C:/Users/ESRAA/loginn/src/components/NavBar.js"],"names":["axios","React","useState","useEffect","useContext","useHistory","MDBNavbar","MDBNavbarBrand","MDBNavbarNav","MDBNavbarToggler","MDBCollapse","MDBNavItem","MDBFooter","MDBNavLink","MDBTooltip","MDBIcon","MDBBtn","AuthContext","NavBar","token","JSON","parse","localStorage","getItem","collapseID","setCollapseID","loggedInState","setLoggedInState","history","console","log","push","toggleCollapse","colId","closeCollapse","collID","window","scrollTo","logoutHandler","post","headers","Authorization","then","res","data","removeItem","catch","err","overlay","backgroundColor"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useState, useEffect, useContext } from 'react'\r\nimport { useHistory } from 'react-router';\r\nimport '../style.css'\r\nimport {\r\n    MDBNavbar,\r\n    MDBNavbarBrand,\r\n    MDBNavbarNav,\r\n    MDBNavbarToggler,\r\n    MDBCollapse,\r\n    MDBNavItem,\r\n    MDBFooter,\r\n    MDBNavLink,\r\n    MDBTooltip,\r\n    MDBIcon,\r\n    MDBBtn \r\n  } from 'mdbreact';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst NavBar = () => {\r\n    const token = JSON.parse(localStorage.getItem('login'))?.token\r\n    const [collapseID, setCollapseID] = useState('test')\r\n    const {loggedInState, setLoggedInState} = useContext(AuthContext)\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n     if(!loggedInState){\r\n         console.log(history)\r\n         console.log('ssh')\r\n        history.push('/advanced')\r\n     }\r\n    }, [history])\r\n\r\n const  toggleCollapse = colId  =>{\r\n     console.log('run')\r\n     if(colId !== collapseID){\r\n         console.log(true)\r\n        setCollapseID(colId)\r\n     } else {\r\n         setCollapseID('')\r\n         console.log(false)\r\n\r\n     }\r\n    \r\n }\r\n\r\n const closeCollapse = collID  => {\r\n    \r\n    window.scrollTo(0, 0);\r\n    setCollapseID('');\r\n  };\r\n const logoutHandler = () => {\r\n    axios.post('https://api-nodejs-todolist.herokuapp.com/user/logout', {}, {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(res => {\r\n        console.log(res.data)\r\n    setLoggedInState(false)\r\n    localStorage.removeItem('login')\r\n    history.push('/advanced')\r\n\r\n    }).catch(err => {\r\n        console.log(err)\r\n    })\r\n  }\r\n\r\n  const overlay = (\r\n    <div\r\n      id='sidenav-overlay'\r\n      style={{ backgroundColor: 'transparent' }}\r\n      onClick={() => toggleCollapse('mainNavbarCollapse')}\r\n    />\r\n  );\r\n\r\n\r\n    return (\r\n        <>\r\n            <MDBNavbar  dark expand='md' fixed='top' scrolling className=\"head mb-4\">\r\n            <MDBNavbarBrand href='/' className='py-0 font-weight-bold'>\r\n            <MDBNavLink\r\n                    to='/navigation' className=\"red-text\">ToDo</MDBNavLink>\r\n            </MDBNavbarBrand>\r\n            <MDBNavbarToggler\r\n              onClick={() => toggleCollapse('mainNavbarCollapse')}\r\n            />\r\n            <MDBCollapse id='mainNavbarCollapse' isOpen={collapseID} navbar>\r\n              <MDBNavbarNav right>\r\n                {loggedInState ? \r\n                <>\r\n                <MDBNavItem>\r\n                  <MDBNavLink\r\n                    exact\r\n                    to='/'\r\n                    onClick={() => closeCollapse('mainNavbarCollapse')}\r\n                  >\r\n                    <strong>signUp</strong>\r\n                  </MDBNavLink>\r\n                </MDBNavItem>\r\n                <MDBNavItem>\r\n                  <MDBNavLink\r\n                    exact\r\n                    to='/advanced'\r\n                    onClick={() => closeCollapse('mainNavbarCollapse')}\r\n                  >\r\n                    <strong>Login</strong>\r\n                  </MDBNavLink>\r\n                </MDBNavItem>\r\n                </> \r\n                :\r\n                <>\r\n                <MDBNavItem>\r\n                  <MDBBtn \r\n                    color=\"danger\"\r\n                    onClick={logoutHandler}\r\n                  >\r\n                    <strong>Logout</strong>\r\n                  </MDBBtn>\r\n                </MDBNavItem>\r\n                </>\r\n                \r\n                }\r\n                \r\n            \r\n         \r\n              </MDBNavbarNav>\r\n            </MDBCollapse>\r\n          </MDBNavbar>\r\n          {collapseID && overlay}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NavBar\r\n"]},"metadata":{},"sourceType":"module"}